# ============================================
# CROWDIFY GW - Variables de Entorno Producción
# ============================================
# Copia este archivo a /opt/crowdify/.env en el servidor
# y completa los valores con tus credenciales reales

# ============================================
# BASE DE DATOS
# ============================================
# URL de conexión a PostgreSQL (Supabase o servidor propio)
# Formato: postgresql+psycopg://usuario:password@host:puerto/database
DATABASE_URL=postgresql+psycopg://usuario:password@host:5432/database

# Opcional: Configuración avanzada de pool de conexiones
# DATABASE_POOL_SIZE=30
# DATABASE_MAX_OVERFLOW=20

# ============================================
# REDIS
# ============================================
# URL de conexión a Redis (usado para cache y Celery)
REDIS_URL=redis://redis:6379/0
REDIS_PORT=6379
# Opcional: Si Redis tiene contraseña
# REDIS_PASSWORD=

# ============================================
# MINIO (Object Storage)
# ============================================
# Endpoint interno de MinIO (dentro de Docker)
MINIO_ENDPOINT=http://minio:9000
# Credenciales de acceso a MinIO
MINIO_ACCESS_KEY=minio
MINIO_SECRET_KEY=minio12345
# Usar HTTPS (false para desarrollo, true para producción con SSL)
MINIO_SECURE=false
# Nombre del bucket para almacenar PDFs de tickets
MINIO_BUCKET_TICKETS=tickets-pdf
# Credenciales root de MinIO (para administración)
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=minio12345
# Puertos expuestos
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# ============================================
# SEGURIDAD
# ============================================
# Secretos para JWT (cambiar por valores seguros y únicos)
# Genera valores aleatorios seguros, por ejemplo:
# openssl rand -hex 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
QR_SECRET=your-super-secret-qr-key-change-this-in-production

# Configuración adicional de JWT (opcional)
# JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
# JWT_ALGORITHM=HS256
# JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
# JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# SMTP / EMAIL
# ============================================
# Configuración del servidor SMTP para envío de emails
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-email-password
SMTP_FROM=noreply@example.com

# Alternativa: Si usas SendGrid u otro servicio de email
# EMAIL_API_KEY=your-sendgrid-api-key
# EMAIL_FROM=noreply@example.com

# ============================================
# SUPABASE (Autenticación)
# ============================================
# Si usas Supabase para autenticación de usuarios
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key

# ============================================
# MERCADOPAGO (Pagos)
# ============================================
# Credenciales de MercadoPago para procesamiento de pagos
# MERCADOPAGO_ACCESS_TOKEN=your-mercadopago-access-token
# MERCADOPAGO_WEBHOOK_SECRET=your-mercadopago-webhook-secret

# ============================================
# CORS (Cross-Origin Resource Sharing)
# ============================================
# Orígenes permitidos para CORS (separados por comas)
# Ejemplo: https://tudominio.com,https://www.tudominio.com,https://app.tudominio.com
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================
# APLICACIÓN
# ============================================
# Entorno de la aplicación
APP_ENV=production
# Modo debug (false en producción)
APP_DEBUG=false
# Nivel de logging (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO
# URL base de la aplicación (para webhooks y links)
# APP_BASE_URL=https://api.yourdomain.com

# ============================================
# PUERTOS
# ============================================
# Puerto de la API
API_PORT=8000
# Puerto del servicio PDF
PDFSVC_PORT=9002

# ============================================
# NOTAS IMPORTANTES
# ============================================
# 1. NUNCA commitees este archivo al repositorio
# 2. Cambia TODOS los valores por defecto por valores seguros
# 3. Usa contraseñas fuertes y únicas
# 4. Para JWT_SECRET y QR_SECRET, genera valores aleatorios:
#    - openssl rand -hex 32
#    - o usa: python -c "import secrets; print(secrets.token_hex(32))"
# 5. Verifica que DATABASE_URL sea correcta y accesible desde el servidor
# 6. Configura CORS_ORIGINS con los dominios reales de tu frontend


